#!/bin/bash

# Директория с шагами
STEPS_DIR="install-by-step"

# Переход в директорию с шагами
cd "$STEPS_DIR" || { echo "Ошибка: директория $STEPS_DIR не найдена."; exit 1; }

# Проход по всем файлам в директории, отсортированным по имени
for script in $(ls -v *.sh); do
    echo "Запуск скрипта: $script"
    # Выполнение скрипта
    bash "$script"
    # Проверка кода завершения
    if [ $? -ne 0 ]; then
        echo "Ошибка: скрипт $script завершился с ошибкой. Выполнение остановлено."
        exit 1
    fi
done

echo "Все шаги выполнены успешно."